{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '../views/common/Home.vue';\nimport store from '../store';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport routes from \"@/router/routes\";\nVue.use(VueRouter);\n\n// const router = new VueRouter({\n//   mode: 'history',\n//   base: process.env.BASE_URL,\n//   routes\n// })\n\n//顶部进度条样式\nNProgress.configure({\n  showSpinner: false,\n  speed: 800\n});\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\n\n//路由卫士\n\nrouter.beforeEach((to, from, next) => {\n  NProgress.start();\n  to.meta.auth && !store.state.user.token ? next(\"/login\") : next();\n});\nrouter.afterEach(() => {\n  NProgress.done();\n});\nconst originalPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err);\n};\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Home","store","NProgress","routes","use","configure","showSpinner","speed","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","start","meta","auth","state","user","token","afterEach","done","originalPush","prototype","push","location","call","catch","err"],"sources":["D:/frontEnd/Elderly_care_system_front_end/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/common/Home.vue'\r\nimport store from '../store'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport routes from \"@/router/routes\"\r\n\r\nVue.use(VueRouter)\r\n\r\n// const router = new VueRouter({\r\n//   mode: 'history',\r\n//   base: process.env.BASE_URL,\r\n//   routes\r\n// })\r\n\r\n//顶部进度条样式\r\nNProgress.configure({\r\n  showSpinner: false,\r\n  speed: 800,\r\n});\r\n\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n//路由卫士\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  NProgress.start()\r\n  to.meta.auth && !store.state.user.token ? next(\"/login\") : next()\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  NProgress.done()\r\n})\r\n\r\n\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n  return originalPush.call(this, location).catch(err => err)\r\n}\r\n\r\nexport default router\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,IAAI,MAAM,0BAA0B;AAC3C,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAO,yBAAyB;AAChC,OAAOC,MAAM,MAAM,iBAAiB;AAEpCL,GAAG,CAACM,GAAG,CAACL,SAAS,CAAC;;AAElB;AACA;AACA;AACA;AACA;;AAEA;AACAG,SAAS,CAACG,SAAS,CAAC;EAClBC,WAAW,EAAE,KAAK;EAClBC,KAAK,EAAE;AACT,CAAC,CAAC;AAGF,MAAMC,MAAM,GAAG,IAAIT,SAAS,CAAC;EAC3BU,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BV;AACF,CAAC,CAAC;;AAEF;;AAEAK,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCf,SAAS,CAACgB,KAAK,CAAC,CAAC;EACjBH,EAAE,CAACI,IAAI,CAACC,IAAI,IAAI,CAACnB,KAAK,CAACoB,KAAK,CAACC,IAAI,CAACC,KAAK,GAAGN,IAAI,CAAC,QAAQ,CAAC,GAAGA,IAAI,CAAC,CAAC;AACnE,CAAC,CAAC;AAEFT,MAAM,CAACgB,SAAS,CAAC,MAAM;EACrBtB,SAAS,CAACuB,IAAI,CAAC,CAAC;AAClB,CAAC,CAAC;AAGF,MAAMC,YAAY,GAAG3B,SAAS,CAAC4B,SAAS,CAACC,IAAI;AAC7C7B,SAAS,CAAC4B,SAAS,CAACC,IAAI,GAAG,SAASA,IAAIA,CAACC,QAAQ,EAAE;EACjD,OAAOH,YAAY,CAACI,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACE,KAAK,CAACC,GAAG,IAAIA,GAAG,CAAC;AAC5D,CAAC;AAED,eAAexB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}