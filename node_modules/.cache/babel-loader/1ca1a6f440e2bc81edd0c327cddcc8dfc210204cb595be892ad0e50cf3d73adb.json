{"ast":null,"code":"export default {\n  data() {\n    return {\n      tableData: [],\n      timer: null,\n      num: 0\n    };\n  },\n  created() {\n    this.getData();\n  },\n  mounted() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    } else {\n      var that = this;\n      this.timer = setInterval(() => {\n        that.getData();\n      }, 2000);\n    }\n  },\n  methods: {\n    getData: function () {\n      //获取记录\n      var that = this;\n      this.$axios.get(\"http://127.0.0.1:5000/deskRecord\").then(res => {\n        localStorage.setItem(\"deskRecord\", JSON.stringify(res.data));\n        that.tableData = JSON.parse(localStorage.getItem('deskRecord') || '[]');\n      });\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  }\n};","map":{"version":3,"names":["data","tableData","timer","num","created","getData","mounted","clearInterval","that","setInterval","methods","$axios","get","then","res","localStorage","setItem","JSON","stringify","parse","getItem","beforeDestroy"],"sources":["src/views/page/monitor/kitchen.vue"],"sourcesContent":["<template>\r\n  <div style=\"display: inline\">\r\n    <img src=\"http://127.0.0.1:5001/desk\">\r\n    <!-- <img src=\"@/assets/user.png\" style=\"height: 600px;width: 700px;margin-left: 20px\"> -->\r\n    <div style=\"width:500px;margin-left:80px; float: left; position: absolute; color:#9b8060; font-size: 20px; font-weight: bold\">\r\n      <div>\r\n        <span class=\"intro\">老人姓名: </span>\r\n        张三\r\n      </div>\r\n      <div>\r\n        <span class=\"intro\">老人年龄: </span>\r\n        63\r\n      </div>\r\n      <div>\r\n        <span class=\"intro\">家庭住址: </span>\r\n        北下关16栋5-201\r\n      </div>\r\n    </div>\r\n    <div style=\"height:620px;float:right;margin-top:20px;margin-right:10px;padding-bottom: 40px;border:3px solid #9b8060\">\r\n      <h2 style=\"margin-left:5px; color:#9b8060\">厨房实时记录显示</h2>\r\n      <el-scrollbar style = \"height:100%\">\r\n        <div style=\"height:580px;float: right;margin-top: 10px;margin-left: 10px;margin-right: 10px;margin-bottom: 10px;\">\r\n          <el-table\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\">\r\n            <el-table-column\r\n                prop=\"id\"\r\n                label=\"编号\"\r\n                width=\"70\"\r\n                align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"type\"\r\n                label=\"类型\"\r\n                width=\"130\"\r\n                align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"pic\" align=\"center\" label=\"图片\" width=\"180\" show-overflow-tooltip>\r\n              <template slot-scope=\"scope\">\r\n                <img :src=\"scope.row.image\" width=\"40\" height=\"30\" v-image-preview/>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-scrollbar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      timer: null,\r\n      num: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  mounted() {\r\n    if (this.timer) {\r\n      clearInterval(this.timer)\r\n    } else {\r\n      var that = this\r\n      this.timer = setInterval(() => {\r\n        that.getData();\r\n      }, 2000\r\n      )\r\n    }\r\n  },\r\n  methods: {\r\n    getData: function () {\r\n      //获取记录\r\n      var that = this\r\n      this.$axios.get(\"http://127.0.0.1:5000/deskRecord\")\r\n        .then(res => {\r\n          localStorage.setItem(\"deskRecord\", JSON.stringify(res.data))\r\n          that.tableData = JSON.parse(localStorage.getItem('deskRecord') || '[]')\r\n        })\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-scrollbar__wrap{\r\n  overflow-x: hidden;\r\n}\r\n\r\n</style>"],"mappings":"AAkDA;EACAA,KAAA;IACA;MACAC,SAAA;MACAC,KAAA;MACAC,GAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,QAAA;IACA,SAAAJ,KAAA;MACAK,aAAA,MAAAL,KAAA;IACA;MACA,IAAAM,IAAA;MACA,KAAAN,KAAA,GAAAO,WAAA;QACAD,IAAA,CAAAH,OAAA;MACA,OACA;IACA;EACA;EACAK,OAAA;IACAL,OAAA,WAAAA,CAAA;MACA;MACA,IAAAG,IAAA;MACA,KAAAG,MAAA,CAAAC,GAAA,qCACAC,IAAA,CAAAC,GAAA;QACAC,YAAA,CAAAC,OAAA,eAAAC,IAAA,CAAAC,SAAA,CAAAJ,GAAA,CAAAd,IAAA;QACAQ,IAAA,CAAAP,SAAA,GAAAgB,IAAA,CAAAE,KAAA,CAAAJ,YAAA,CAAAK,OAAA;MACA;IACA;EACA;EACAC,cAAA;IACAd,aAAA,MAAAL,KAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}