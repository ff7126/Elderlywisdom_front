{"ast":null,"code":"import * as echarts from 'echarts';\nimport { elderCounts } from \"@/api/elder\";\nrequire('echarts/theme/macarons'); //引入主题\n\nexport default {\n  data() {\n    return {\n      chartPie: null,\n      oldCounts: []\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.drawPieChart();\n    });\n  },\n  methods: {\n    getOldCounts() {\n      elderCounts().then(res => {\n        this.oldCounts = res.data;\n        // this.listForm.total=res.data.records.length\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    drawPieChart() {\n      let mytextStyle = {\n        color: \"#333\",\n        fontSize: 18\n      };\n      let mylabel = {\n        show: true,\n        position: \"right\",\n        offset: [30, 40],\n        formatter: '{b} : {c} ({d}%)',\n        textStyle: mytextStyle\n      };\n      this.chartPie = echarts.init(document.getElementById('chartPie'), 'macarons');\n      this.chartPie.setOption({\n        title: {\n          text: '年龄分析图',\n          subtext: '',\n          x: 'center'\n        },\n        tooltip: {\n          trigger: 'item',\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n        },\n        legend: {\n          data: ['百岁老人', '男性80-100', '男性60-80', '女性80-100', '女性60-80'],\n          left: \"center\",\n          top: \"bottom\",\n          orient: \"horizontal\"\n        },\n        series: [{\n          name: '数据统计',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          center: ['50%', '50%'],\n          data: [{\n            value: 1,\n            name: '百岁老人'\n          }, {\n            value: 1,\n            name: '男性80-100'\n          }, {\n            value: 2,\n            name: '男性60-80'\n          }, {\n            value: 2,\n            name: '女性80-100'\n          }, {\n            value: 2,\n            name: '女性60-80'\n          }],\n          animationEasing: 'cubicInOut',\n          //图像显示的速度\n          animationDuration: 1600,\n          label: {\n            emphasis: mylabel\n          }\n        }]\n      });\n    }\n  }\n};","map":{"version":3,"names":["echarts","elderCounts","require","data","chartPie","oldCounts","mounted","$nextTick","drawPieChart","methods","getOldCounts","then","res","catch","error","console","log","mytextStyle","color","fontSize","mylabel","show","position","offset","formatter","textStyle","init","document","getElementById","setOption","title","text","subtext","x","tooltip","trigger","legend","left","top","orient","series","name","type","radius","center","value","animationEasing","animationDuration","label","emphasis"],"sources":["src/views/page/old/oldImage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 style=\"margin-left:10px; height:10px\"></h2>\r\n    <h2 style=\"margin-left:10px\">详细信息</h2>\r\n    <div class = example style=\"width:210px;height:170px;margin-left:20px;margin-top:15px;\">\r\n      <img src=\"./old.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 8px;padding-left: 5px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;\">老人总数</p>\r\n      <p><div style=\" font-weight: bold;font-size:30px;font-style: italic;padding-top: 22px;padding-left: 80px;\">8人</div>\r\n    </div>\r\n    <div class = example style=\"width:210px;height:170px;position: absolute;left: 540px;top: 120px;\">\r\n      <img src=\"./oldman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 15px;padding-left:20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">男性人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">3人</div>\r\n\r\n      <img src=\"./oldwoman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 20px;padding-left: 20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">女性人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">5人</div>\r\n    </div>\r\n    <div class = example style=\"width:210px;height:170px;position: absolute;left: 810px;top: 120px;\">\r\n      <img src=\"./oldman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 15px;padding-left:20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">[80-100]人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">1人</div>\r\n\r\n      <img src=\"./oldwoman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 20px;padding-left: 20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">[80-100]人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">2人</div>\r\n    </div>\r\n    <div class = example style=\"width:210px;height:170px;position: absolute;left: 1080px;top: 120px;\">\r\n      <img src=\"./oldman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 15px;padding-left:20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">[60-80]人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">2人</div>\r\n\r\n      <img src=\"./oldwoman.png\" width=\"50\" height=\"50\" style=\"float:left;padding-top: 20px;padding-left: 20px;\" v-image-preview/>\r\n      <p style=\" font-weight: bold;font-size:20px;font-style: italic;padding-top: 22px;padding-left: 12px;\">[60-80]人数</p>\r\n      <p><div style=\" font-weight: bold;font-size:20px;font-style: italic;padding-left: 90px;\">2人</div>\r\n    </div>\r\n    <div>\r\n      <h2 style=\"margin-left:10px;margin-top:15px\">老人年龄分析图</h2><br>\r\n      <div id=\"chartPie\" class=\"pie-wrap\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\nimport {elderCounts} from \"@/api/elder\";\r\nrequire('echarts/theme/macarons');//引入主题\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      chartPie: null,\r\n      oldCounts:[],\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.drawPieChart();\r\n    })\r\n  },\r\n  methods: {\r\n    getOldCounts(){\r\n      elderCounts().then(res => {\r\n        this.oldCounts= res.data\r\n        // this.listForm.total=res.data.records.length\r\n\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n\r\n    },\r\n    drawPieChart() {\r\n      let mytextStyle = {\r\n        color: \"#333\",\r\n        fontSize: 18,\r\n      };\r\n      let mylabel = {\r\n        show: true,\r\n        position: \"right\",\r\n        offset: [30, 40],\r\n        formatter: '{b} : {c} ({d}%)',\r\n        textStyle: mytextStyle\r\n      };\r\n      this.chartPie = echarts.init(document.getElementById('chartPie'),'macarons');\r\n      this.chartPie.setOption({\r\n        title: {\r\n          text: '年龄分析图',\r\n          subtext: '',\r\n          x: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\",\r\n        },\r\n        legend: {\r\n          data: ['百岁老人','男性80-100', '男性60-80', '女性80-100', '女性60-80' ],\r\n          left:\"center\",\r\n          top:\"bottom\",\r\n          orient:\"horizontal\",\r\n        },\r\n        series: [\r\n          {\r\n            name: '数据统计',\r\n            type: 'pie',\r\n            radius: ['50%', '70%'],\r\n            center: ['50%', '50%'],\r\n            data: [\r\n              {value: 1, name: '百岁老人'},\r\n              {value: 1, name: '男性80-100'},\r\n              {value: 2, name: '男性60-80'},\r\n              {value: 2, name: '女性80-100'},\r\n              {value: 2, name: '女性60-80'}\r\n            ],\r\n            animationEasing: 'cubicInOut',\r\n            //图像显示的速度\r\n            animationDuration: 1600,\r\n            label: {\r\n              emphasis: mylabel\r\n            }\r\n          }\r\n        ]\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.example{\r\n  background: rgba(255, 255, 255, 1);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  backdrop-filter: blur(8px);\r\n  border-radius: 25px;\r\n  box-shadow:inset 0 0 6px rgba(255, 255, 255, 0.2);\r\n}\r\n.pie-wrap{\r\n  width:100%;\r\n  height:400px;\r\n}\r\n\r\n</style>"],"mappings":"AA4CA,YAAAA,OAAA;AACA,SAAAC,WAAA;AACAC,OAAA;;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA,KAAAC,YAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACAT,WAAA,GAAAU,IAAA,CAAAC,GAAA;QACA,KAAAP,SAAA,GAAAO,GAAA,CAAAT,IAAA;QACA;MAEA,GAAAU,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IAEA;IACAN,aAAA;MACA,IAAAS,WAAA;QACAC,KAAA;QACAC,QAAA;MACA;MACA,IAAAC,OAAA;QACAC,IAAA;QACAC,QAAA;QACAC,MAAA;QACAC,SAAA;QACAC,SAAA,EAAAR;MACA;MACA,KAAAb,QAAA,GAAAJ,OAAA,CAAA0B,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACA,KAAAxB,QAAA,CAAAyB,SAAA;QACAC,KAAA;UACAC,IAAA;UACAC,OAAA;UACAC,CAAA;QACA;QACAC,OAAA;UACAC,OAAA;UACAX,SAAA;QACA;QACAY,MAAA;UACAjC,IAAA;UACAkC,IAAA;UACAC,GAAA;UACAC,MAAA;QACA;QACAC,MAAA,GACA;UACAC,IAAA;UACAC,IAAA;UACAC,MAAA;UACAC,MAAA;UACAzC,IAAA,GACA;YAAA0C,KAAA;YAAAJ,IAAA;UAAA,GACA;YAAAI,KAAA;YAAAJ,IAAA;UAAA,GACA;YAAAI,KAAA;YAAAJ,IAAA;UAAA,GACA;YAAAI,KAAA;YAAAJ,IAAA;UAAA,GACA;YAAAI,KAAA;YAAAJ,IAAA;UAAA,EACA;UACAK,eAAA;UACA;UACAC,iBAAA;UACAC,KAAA;YACAC,QAAA,EAAA7B;UACA;QACA;MAEA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}