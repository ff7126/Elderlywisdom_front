{"ast":null,"code":"import io from 'socket.io-client';\nexport default {\n  data() {\n    return {\n      imageSrc: '',\n      // 初始图像源为空\n      socket: null\n    };\n  },\n  mounted() {\n    this.connectToServer();\n  },\n  methods: {\n    connectToServer() {\n      // 连接到Socket.IO服务器\n      this.socket = io('http://localhost:9000');\n\n      // 监听Socket.IO事件\n      this.socket.on('video_frame', data => {\n        // 更新图像源为从服务器接收的图像数据\n        this.imageSrc = `data:image/jpeg;base64,${data.image}`;\n      });\n      this.socket.on('connect', () => {\n        console.log('Connected to server');\n      });\n      this.socket.on('disconnect', () => {\n        console.log('Disconnected from server');\n      });\n    }\n  },\n  beforeDestroy() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n};","map":{"version":3,"names":["io","data","imageSrc","socket","mounted","connectToServer","methods","on","image","console","log","beforeDestroy","close"],"sources":["src/views/page/monitor/monitor.vue"],"sourcesContent":["<template>\r\n  <div class=\"camera-stream\">\r\n    <h1>Camera Stream</h1>\r\n    < img :src=\"imageSrc\" alt=\"Camera Stream\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imageSrc: '',  // 初始图像源为空\r\n      socket: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.connectToServer();\r\n  },\r\n  methods: {\r\n    connectToServer() {\r\n      // 连接到Socket.IO服务器\r\n      this.socket = io('http://localhost:9000');\r\n\r\n      // 监听Socket.IO事件\r\n      this.socket.on('video_frame', (data) => {\r\n        // 更新图像源为从服务器接收的图像数据\r\n        this.imageSrc = `data:image/jpeg;base64,${data.image}`;\r\n      });\r\n\r\n      this.socket.on('connect', () => {\r\n        console.log('Connected to server');\r\n      });\r\n\r\n      this.socket.on('disconnect', () => {\r\n        console.log('Disconnected from server');\r\n      });\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    if (this.socket) {\r\n      this.socket.close();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.camera-stream img {\r\n  width: 100%;\r\n  max-width: 640px; /* 限制图像的最大宽度 */\r\n  height: auto;\r\n}\r\n</style>"],"mappings":"AAQA,OAAAA,EAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACAD,gBAAA;MACA;MACA,KAAAF,MAAA,GAAAH,EAAA;;MAEA;MACA,KAAAG,MAAA,CAAAI,EAAA,gBAAAN,IAAA;QACA;QACA,KAAAC,QAAA,6BAAAD,IAAA,CAAAO,KAAA;MACA;MAEA,KAAAL,MAAA,CAAAI,EAAA;QACAE,OAAA,CAAAC,GAAA;MACA;MAEA,KAAAP,MAAA,CAAAI,EAAA;QACAE,OAAA,CAAAC,GAAA;MACA;IACA;EACA;EACAC,cAAA;IACA,SAAAR,MAAA;MACA,KAAAA,MAAA,CAAAS,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}